e = campaignTrail_temp;

            nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#575757";

            nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#2e4163";

            document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

            $("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

            $(".container")[0].style.backgroundColor = "#000000";

$("#game_window")[0].style.backgroundImage = "url(https://files.catbox.moe/1cx0a0.png)"
            document.getElementById("header").src = "https://imgur.com/o2kiWb9.png";

            document.body.background = "https://imgur.com/h8CDbPj.png";

            e.election_json = [{"model":"campaign_trail.election","pk":20,"fields":{"year":2016,"summary":"Hillary Clinton was destined to become president at one point or another. Her marriage to Bill Clinton, like her career, was bumpy, but she passed the role of \"First Lady\" to become the first female president. However, while she has thrived in the political arena, it hasn't been smooth sailing for her. The economy has lagged along since her inauguration, and with Congress remaining in Republican hands, it appears there is little she can do.<br><br>And it gets even worse. COVID-19 and the War on Terror have damaged the country's reputation and legacy. While conservatives slam Clinton as weak, liberals claim she is too tough. With figures such as AOC and Bernie Sanders on the rise, it appears Hillary's presidency is going to be a lot less successful than Bill's and a lot shorter. Despite this, she goes into re-election with high hopes. She did defeat Trump after all; can she win again? While Hillary leads the Democratic camp, Florida Senator Marco Rubio leads the Republicans after beating the remainder of the Trumplicans. He hopes to defeat Clinton and become the first Cuban-American President, and considering Clinton's unpopularity, it shouldn't be a hard task.","image_url":"https://www.thenation.com/wp-content/uploads/2016/11/Hillary_Clinton_loss_ap_img.jpg","winning_electoral_vote_number":270,"advisor_url":"https://files.catbox.moe/lhupwq.jpg","recommended_reading":"<ul>\n<li><a href=https://www.chicagotribune.com/opinion/editorials/ct-edit-chicago-tribune-biden-endorsement-20200925-lnyxsb5qvrftnjjmj3rnzj33jy-story.html>Our Case For Joe Biden</a></li>\n<li><a href=https://nationalinterest.org/feature/case-trump-166808>The Case For Trump</a></li>\n<li><a href=https://www.npr.org/2020/11/18/935730100/how-biden-won-ramping-up-the-base-and-expanding-margins-in-the-suburbs>How Biden Won: Ramping Up The Base And Expanding Margins In The Suburbs</a></li>\n<li><a href=https://www.prospectmagazine.co.uk/politics/donald-trump-joe-biden-us-election-almost-win-votes-concede>Why Did Trump Almost Win?</a></li>\n<li><a href=https://www.hoover.org/research/no-evidence-voter-fraud-guide-statistical-claims-about-2020-election>No Evidence For Voter Fraud: A Guide To Statistical Claims About The 2020 Election</a></li>\n</ul>","has_visits":1,"no_electoral_majority_image":"../static/images/2012-no-majority.jpg"}}];e.temp_election_list = [{"id":20,"year":2016,"is_premium":0,"display_year":"2020 - Hell Under Her"}];e.credits = "Shamrock5962";e.global_parameter_json = [{"model":"campaign_trail.global_parameter","pk":1,"fields":{"vote_variable":1.125,"max_swing":0.12,"start_point":0.94,"candidate_issue_weight":10,"running_mate_issue_weight":3,"issue_stance_1_max":-0.71,"issue_stance_2_max":-0.3,"issue_stance_3_max":-0.125,"issue_stance_4_max":0.125,"issue_stance_5_max":0.3,"issue_stance_6_max":0.71,"global_variance":0.01,"state_variance":0.005,"question_count":32,"default_map_color_hex":"#C9C9C9","no_state_map_color_hex":"#999999"}}];e.candidate_json = [{"model":"campaign_trail.candidate","pk":1001,"fields":{"first_name":"Hillary","last_name":"Clinton","election":20,"party":"Democratic","state":"New York","priority":1,"description":"Most First Ladies work to help improve their husband's legacies, not HRC. Clinton ran for the United States Senate in 2000 in New York. Despite possible threats from Rudy Gulliani, Clinton fended off her opponents and won the election. Feeding off of her successful Senate tenure, Clinton ran for president in 2008. She was held back by Barack Obama. Clinton would go on to serve as his Secretary of State from 2009-2013. During this, she killed Bin Laden and ended the war in Iraq. Clinton would go on to win the presidency in 2016.<br><br>Trump and the Republicans would slam Clinton at every turn. The emails, the cold, the deplorable comment. Her campaign schedule even turned grim; despite this, almost everyone believed Clinton would win. However, it would all go to Pennslyvania. After the most intense election count since 2000, HRC became the first female President.<br><br>Since then, HRC has fought the Republican-controlled Congress. She has kept most of Obama's economic and foreign policy and has made little change to the country. By the time COVID-19 rolled around, the economy was bad enough. And with this fatal blow, Clinton's approval rating collapsed. Now, it appears her presidency is over. However, could she manage to beat those odds?","color_hex":"#004db3","secondary_color_hex":null,"is_active":1,"image_url":"https://imgur.com/NK1SjQj.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":1002,"fields":{"first_name":"Tim","last_name":"Kaine","election":20,"party":"Democratic","state":"Virginia","priority":1,"description":"When you tapped Tim Kaine to be your running mate at the conclusion of the 2016 Democratic National Convention, many felt disappointed and uneasy. Kaine was far inferior and unknown to the other candidates on the shortlist. There was Cory Booker, Sherrod Brown, Liz Warren, and your chief rival Bernie Sanders, to name a few. Instead, you selected the sitting Virginia Senator and former Governor, whom few have heard of before.<br><br>To put it lightly, Kaine didn't really help your chances. He didn't help lend an olive branch to the Butthurt Progressives, and he didn't do much with name recognition. While Trump picked Pence and Bill tapped Gore, you selected Tim Kaine. A ho-hum pick at best.<br><br>However, Kaine has been somewhat useful for the past four years. He has helped convince some of his old comrades in the Senate to vote for your messures, he has maintained a steady approval rating; and he has been a pretty decent Vice President in General. While most in the party still think better choices are out there, you are practically stuck with him, given that he is your Vice President.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://imgur.com/hMYcDMZ.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"When you tapped Tim Kaine to be your running mate at the conclusion of the 2016 Democratic National Convention, many felt disappointed and uneasy. Kaine was far inferior and unknown to the other candidates on the shortlist. There was Cory Booker, Sherrod Brown, Liz Warren, and your chief rival Bernie Sanders, to name a few. Instead, you selected the sitting Virginia Senator and former Governor, whom few have heard of before.<br><br>To put it lightly, Kaine didn't really help your chances. He didn't help lend an olive branch to the Butthurt Progressives, and he didn't do much with name recognition. While Trump picked Pence and Bill tapped Gore, you selected Tim Kaine. A ho-hum pick at best.<br><br>However, Kaine has been somewhat useful for the past four years. He has helped convince some of his old comrades in the Senate to vote for your messures, he has maintained a steady approval rating; and he has been a pretty decent Vice President in General. While most in the party still think better choices are out there, you are practically stuck with him, given that he is your Vice President.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1003,"fields":{"first_name":"Bernie","last_name":"Sanders","election":20,"party":"Independent/Democratic","state":"Vermont","priority":1,"description":"What can't be said about Bernie Sanders is that nobody in the country knows his name. Sanders was your main opponent in the 2016 Democratic primaries, and despite losing, he outperformed all polls and nearly captured the nomination. Sanders is the leader of the Progressive faction and a staunch populist. While he could assist Republican efforts in labeling you and the Democrats as \"socialists,\" he could also unite the party that nearly crippled your efforts in 2016.<br><br>Sanders isn't much of a flip-flopper either. He has been repeating the same message since his roots in Burlington; he has stood against the war in Iraq from beginning to end. He has stood for raising the minimum wage since he started his career. Such aspects have made him likeable and a true progressive.<br><br>While Sanders would have been a good choice in 2016, many agree that it's too late for him. Your selection of Tim Kaine back in '16 has caused most to assume he will be your running mate going into 2020. There is also the idea that Sanders is getting too old to serve. Despite this, he seems just as good now as he was in 2007. Still, he is considered a risky choice.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://imgur.com/sSf9JMN.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"What can't be said about Bernie Sanders is that nobody in the country knows his name. Sanders was your main opponent in the 2016 Democratic primaries, and despite losing, he outperformed all polls and nearly captured the nomination. Sanders is the leader of the Progressive faction and a staunch populist. While he could assist Republican efforts in labeling you and the Democrats as \"socialists,\" he could also unite the party that nearly crippled your efforts in 2016.<br><br>Sanders isn't much of a flip-flopper either. He has been repeating the same message since his roots in Burlington; he has stood against the war in Iraq from beginning to end. He has stood for raising the minimum wage since he started his career. Such aspects have made him likeable and a true progressive.<br><br>While Sanders would have been a good choice in 2016, many agree that it's too late for him. Your selection of Tim Kaine back in '16 has caused most to assume he will be your running mate going into 2020. There is also the idea that Sanders is getting too old to serve. Despite this, he seems just as good now as he was in 2007. Still, he is considered a risky choice.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1004,"fields":{"first_name":"Marco","last_name":"Rubio","election":20,"party":"Republican","state":"Florida","priority":1,"description":"Like Clinton, Rubio has been set back before. In 2016, Rubio seemed destined to be the Republican nominee. He was everything the Republicans were looking for. Then Trump entered the race, and his fortunes flopped. Rubio became \"Little Marco\" while Trump took the lead. When it was all said and done, Rubio finished third behind both Trump and Cruz. He would then watch Trump lose an easily winnable election to Hillary. He could have won; he could have done better. Marco Rubio was elected to the Senate in 2010, and he had an interesting route for him. A young Cuban-American, just a year into his Senate wonders, Mitt Romney thought about selecting him as his running mate. However, he found a better option in Paul Ryan.<br><br>Rubio is the perfect balance on the conservative spectrum. He's not a crazy, off-the-fringe populist like Trump, nor is he a \"Rino\" like Liz Cheney. Rubio also has a spine, unlike other major G.O.P. senators. If Rubio does win, he will be the first Cuban-American and second person of color elected president. He will also be the first Republican elected since Dubya in 2004. With COVID, the BLM protests, and the troubling economy, Rubio has a lot to attack Clinton on. However, he can easily fumble the ball, like Trump did in '16.","color_hex":"#b32222","secondary_color_hex":null,"is_active":1,"image_url":"https://imgur.com/VFDLGYC.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":1005,"fields":{"first_name":"Tim","last_name":"Scott","election":20,"party":"Republican","state":"South Carolina","priority":1,"description":"Tim Scott would be a historic choice for your pick as Vice President, and he would be a beneficial selection as well. Scott is a fellow member of the United States Senate, representing the state of South Carolina. He ran against you in the 2020 Republican primaries. Scott would be the first African-American Vice President and the second person-of-color Veep if elected.<br><br>Scott was first elected to the House in 2011, and then two years later, he was elected in a special election to the Senate. This election saw Scott become the first black Senator in state history and the first black Senator in the South since Reconstruction. He would be elected to a term in his own right in a landslide in 2016. Scott has made a big name for himself in the Senate chambers and is a good choice for Vice President.<br><br>Scott is similar to you policy-wise and is well-liked among both Trumplicans and liberal Republicans. To put it simply, he's someone the party can get behind. He is also someone who can reach out to minority voters. He's seen as a sensible, charismatic, and intelligent candidate. With all this considered, he should help you.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://imgur.com/O0SaHqb.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Tim Scott would be a historic choice for your pick as Vice President, and he would be a beneficial selection as well. Scott is a fellow member of the United States Senate, representing the state of South Carolina. He ran against you in the 2020 Republican primaries. Scott would be the first African-American Vice President and the second person-of-color Veep if elected.<br><br>Scott was first elected to the House in 2011, and then two years later, he was elected in a special election to the Senate. This election saw Scott become the first black Senator in state history and the first black Senator in the South since Reconstruction. He would be elected to a term in his own right in a landslide in 2016. Scott has made a big name for himself in the Senate chambers and is a good choice for Vice President.<br><br>Scott is similar to you policy-wise and is well-liked among both Trumplicans and liberal Republicans. To put it simply, he's someone the party can get behind. He is also someone who can reach out to minority voters. He's seen as a sensible, charismatic, and intelligent candidate. With all this considered, he should help you.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"3"}},{"model":"campaign_trail.candidate","pk":1006,"fields":{"first_name":"Mike","last_name":"Pence","election":20,"party":"Republican","state":"Indiana","priority":1,"description":"Mike Pence has had an interesting career. When he was elected Governor of Indiana in 2012, Pence was already known for his conservative thinking in the halls of Congress. Pence's ballanced budget as Governor of Indiana may have caused the state to take a turn for the worse; however, it allowed him to gain enough fame and notoriety to be selected as Trump's running mate in 2016.<br><br>During the Trump-Pence campaign of 2016, Pence would receive a ton of scrutiny for some of his odd behavior. After their loss in the 2016 presidential election to Clinton, things only got worse for Pence. The \"Gay Jesus\" fiasco that almost caused him to get divorced, the declining Indiana infrastructure, and the teachers protesting for better wages would see Pence's approval rating go in the toilet. Despite this, he is popular enough to be a top candidate (again) for the spot of Vice President.<br><br>Pence would help out among Trump's old base and the far-right in general. However, he will do little to appease moderates and other bases that you need to get favor from to win the election. In addition, Pence's akward traditions might not sit well with the American public. But who knows? Maybe he will be a better running mate than he was in 2016.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://imgur.com/DmvaOUu.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Mike Pence has had an interesting career. When he was elected Governor of Indiana in 2012, Pence was already known for his conservative thinking in the halls of Congress. Pence's ballanced budget as Governor of Indiana may have caused the state to take a turn for the worse; however, it allowed him to gain enough fame and notoriety to be selected as Trump's running mate in 2016.<br><br>During the Trump-Pence campaign of 2016, Pence would receive a ton of scrutiny for some of his odd behavior. After their loss in the 2016 presidential election to Clinton, things only got worse for Pence. The \"Gay Jesus\" fiasco that almost caused him to get divorced, the declining Indiana infrastructure, and the teachers protesting for better wages would see Pence's approval rating go in the toilet. Despite this, he is popular enough to be a top candidate (again) for the spot of Vice President.<br><br>Pence would help out among Trump's old base and the far-right in general. However, he will do little to appease moderates and other bases that you need to get favor from to win the election. In addition, Pence's akward traditions might not sit well with the American public. But who knows? Maybe he will be a better running mate than he was in 2016.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"3"}},{"model":"campaign_trail.candidate","pk":1007,"fields":{"first_name":"Charlie","last_name":"Baker","election":20,"party":"Republican","state":"Massachusetts","priority":1,"description":"Charlie Baker is the Governor of Massachusetts and the most popular governor in the country, with a 73% approval rating. Many wanted him to run for president, but he turned it down. Massachusetts narrowly elected him Governor in 2014 and then re-elected him in a landslide in 2018. While he can run for a third term as governor in 2022, he hasn't yet stated if he will do so. Which could make him a contender for your running mate.<br><br>However, Baker isn't all sunshine and rainbows. Being a liberal Republican, he will most likely piss off Trumplicans and the far-right. On the good side, he may be able to pull in a ton of moderates. Let's hope you have a good enough relationship with the far-right, though, because this pick could really ruin your \"party unity.\"<br><br>In general, however, Baker is a good pick. He is popular in the North, which could get you extra votes in New Hampshire and Pennsylvania. And he is seen as an angel among moderates, which could allow you to sweep up their votes. Baker might not be open to selection, so you'll have to convince every fib in your body to get him to take the bait.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://imgur.com/D7PYQU8.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"Charlie Baker is the Governor of Massachusetts and the most popular governor in the country, with a 73% approval rating. Many wanted him to run for president, but he turned it down. Massachusetts narrowly elected him Governor in 2014 and then re-elected him in a landslide in 2018. While he can run for a third term as governor in 2022, he hasn't yet stated if he will do so. Which could make him a contender for your running mate.<br><br>However, Baker isn't all sunshine and rainbows. Being a liberal Republican, he will most likely piss off Trumplicans and the far-right. On the good side, he may be able to pull in a ton of moderates. Let's hope you have a good enough relationship with the far-right, though, because this pick could really ruin your \"party unity.\"<br><br>In general, however, Baker is a good pick. He is popular in the North, which could get you extra votes in New Hampshire and Pennsylvania. And he is seen as an angel among moderates, which could allow you to sweep up their votes. Baker might not be open to selection, so you'll have to convince every fib in your body to get him to take the bait.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"3"}}];e.running_mate_json = [{"model":"campaign_trail.running_mate","pk":2001,"fields":{"candidate":1001,"running_mate":1002}},{"model":"campaign_trail.running_mate","pk":2002,"fields":{"candidate":1001,"running_mate":1003}},{"model":"campaign_trail.running_mate","pk":2003,"fields":{"candidate":1004,"running_mate":1005}},{"model":"campaign_trail.running_mate","pk":2004,"fields":{"candidate":1004,"running_mate":1006}},{"model":"campaign_trail.running_mate","pk":2005,"fields":{"candidate":1004,"running_mate":1007}}];

quotes = ["I'm With Her!", "'The American people are sick and tired of hearing about your damn emails!' ~ Bernie Sanders", "'Happy birthday to this future President.' ~ Hillary Clinton", "'Let's dispel with this fiction that Barack Obama doesn't know what he's doing. He knows exactly what he's doing.' ~ Marco Rubio", "'This is the only country in the world where today's employee, is tomorrow's employer.' ~ Marco Rubio", "'If the family breaks down, society breaks down.' ~ Marco Rubio","'We don't need new taxes. We need new taxpayers.' ~ Marco Rubio", "'They're all deplorables, just like every registered Republican in America.' ~ Hillary Clinton","'Can't we just drone this guy?' ~ Hillary Clinton", "'I knew it. I knew this would happen to me... They were never going to let me be president.' ~ Hillary Clinton","'We're done if Hillary becomes president, the country is over.' ~ Caitlyn Jenner", "'Hillary Clinton has betrayed her duty to the people.' ~ Donald Trump", "'Maybe Sen. @marcorubio should stop sabotaging Cuba’s international health brigades fighting Covid!' ~ Medea Benjamin","'I'm a Christian, a conservative, and a Republican, in that order.' ~ Mike Pence", "'I'm proud of what I've done, I've got a whole lot more to do.' ~ Tim Kaine", "'My three P's would be pray, pray first. Second, prepare, and then persist.' ~ Tim Scott", "STOP HER!", "STOP THE STEAL!", ]
customquote = quotes[Math.floor((Math.random() * quotes.length))]
                                   
corrr=`\n<h2>HELL UNDER HER</h2><font id='wittyquote' size='3' color='white'><em>`+customquote+`</em></font>`

campaignTrail_temp.modBoxTheme = {
  "header_color": "#575757",
  "header_text_color": "#ffffff",
  "description_text_color": "#000000",
  "description_background_color": "#2e4163",
  "main_color": "#000000",
  "secondary_color": "#575757",
 "ui_text_color": "#ffffff"
}

let style = document.createElement('style');
style.type = 'text/css';
style.id = 'dynamic-style';

style.innerHTML = `
  .campaign_trail_start_emphasis {
    background-color: #f8f8f8;
  }
  a:-webkit-any-link {
    color: #000000;
  }
`;

document.head.appendChild(style);

next0 = function() {document.getElementById("screen0").style.display = "none";document.getElementById("screen1").style.display = "initial";}
back0 = function() {document.getElementById("screen0").style.display = "initial";document.getElementById("screen1").style.display = "none";}


RecReading=true

HistHexcolour=["#004db3","#b32222","#e2f53b","#30b33b"];
    HistName=[" Hillary Clinton"," Marco Rubio"," Bill Weld"," Howie Hawkins/Others"];
    HistEV=[272,266,0,0];
    HistPV=["78,408,014","78,248,324","2,075,975","958,142"];
    HistPVP=["49.1%","49.0%","1.3%","0.6%"];

RecReading=true

  campaignTrail_temp.credits = "<button onclick='credits()'>Shamrock5962</button>";
  
  credits = function() {
    credits = ["Credits", "Shamrock5962 - Writing, Original Concept", "C0SM0 - Code 1", "spacecowboyguy - Banner", "2016 FourWay Redux - Soundtrack", "DecstarG - Various codes"]
    text = "CREDITS:\n\n"
    for (i in credits) {
        text += credits[i] + "\n"
    }
    alert(text)
  }

$("#game_start").click((event) => {
    event.preventDefault();
        musicMode()
  })



nexte0 = function() {
    document.getElementById("ending0").style.display = "none"
    document.getElementById("ending1").style.display = "initial" 
}

nexte1 = function() {
    document.getElementById("ending1").style.display = "none"
    document.getElementById("ending2").style.display = "initial" 
}

nexte2 = function() {
    document.getElementById("ending2").style.display = "none"
    document.getElementById("ending3").style.display = "initial" 
}

backe0 = function() {
    document.getElementById("ending0").style.display = "initial"
    document.getElementById("ending1").style.display = "none" 
}

backe1 = function() {
    document.getElementById("ending1").style.display = "initial"
    document.getElementById("ending2").style.display = "none" 
}

backe2 = function() {
    document.getElementById("ending2").style.display = "initial"
    document.getElementById("ending3").style.display = "none" 
}

  // MUSIC MODE
  
  musicMode = () => {
    // Initialise custom music
  
    $("#music_player")[0].children[0].style.display = "none"
    $("#music_player")[0].children[1].style.display = "none"
  
    document.getElementById("modLoadReveal").style.display = "none"
    document.getElementById("modloaddiv").style.display = "none"
  
    musicBox = document.getElementById("music_player")
    musicBox.style.display = ""
  
    var trackSel;
    e = campaignTrail_temp
    e.selectedSoundtrack = 0
  
    toTime = (seconds) => {
        var date = new Date(null);
        date.setSeconds(seconds);
        return date.toISOString().substr(11, 8);
    }
  
    generateTime = () => {
        // Get the audio element
        var audio = document.getElementById("campaigntrailmusic");
  
        timeTracker = document.createElement("div");
        timeTracker.style = `
  text-align:left;
  border-style:solid;
  border-width:3px;
  height:150px;
  width:200px;
  background-color:#999999;
  float:right;
  padding: 10px;
  `
        $("#trackSelParent")[0].prepend(timeTracker);
        $("#trackSelParent")[0].prepend(document.createElement("br"));
  
        // Create a new element to display the current position of the audio
        var positionDisplay = document.createElement("gg");
        positionDisplay.id = "position-display";
  
        // Create a new slider element to change the time
        var timeSlider = document.createElement("input");
        timeSlider.type = "range";
        timeSlider.min = 0;
        timeSlider.max = 1;
        timeSlider.step = 0.001;
        timeSlider.value = 0;
        timeSlider.style.width = "200px";
        timeSlider.id = "time-slider";
  
        var pausePlay = document.createElement("button");
        pausePlay.id = "position-display";
        pausePlay.innerHTML = "<b>Pause</b>"
        pausePlay.style.width = "100%";
  
  
        pausePlay.addEventListener("click", event => {
            event.preventDefault();
            updatePositionDisplay();
            let audio = document.getElementById("campaigntrailmusic");
            if (audio.paused) {
                audio.play();
                event.target.innerHTML = "<b>Pause</b>";
                return;
            }
            audio.pause();
            event.target.innerHTML = "<b>Play</b>";
            return;
        })
  
        var volumeLabel = document.createElement("gg");
        volumeLabel.id = "volume-label";
        volumeLabel.innerHTML = "<br><b>Volume: </b>"
  
        var volumeSlider = document.createElement("input");
        volumeSlider.type = "range";
        volumeSlider.min = 0;
        volumeSlider.max = 1;
        volumeSlider.step = 0.001;
        volumeSlider.value = 0;
        volumeSlider.style.width = "200px";
        volumeSlider.id = "volume-slider";
  
        volumeSlider.value = audio.volume;
  
        timeTracker.appendChild(pausePlay);
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(positionDisplay);
        timeTracker.appendChild(timeSlider);
        timeTracker.appendChild(volumeLabel);
        timeTracker.appendChild(volumeSlider);
  
        updatePositionDisplay();
  
        //for (let i = 0; i < 10; i++)
        //timeTracker.append(document.createElement("br"));
  
  
        // Function to update the position display
        function updatePositionDisplay() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
        }
  
        // Function to change the time of the audio
        function changeTime() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            audio.currentTime = timeSlider.value * audio.duration;
        }
  
        updateVolume = event => {
            audio.volume = event.target.value;
        }
  
        // Update the position display and slider every second
        setInterval(updatePositionDisplay, 1000);
  
        // Listen for changes to the time slider and change the time of the audio
        timeSlider.addEventListener("input", changeTime);
        volumeSlider.addEventListener("input", updateVolume)
    }
  
    function newMusicPlayer() {
        trackSel = document.createElement("div");
        trackSel.id = "trackSelParent"
        let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
        z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"
        for (i in soundtracks) {
            if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
                z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`
            }
        }
        z += `</select></b><br><br>`
            // <label><input type="radio" name="option" value="option1">Option 1</label><br>
        for (i in soundtracks[e.selectedSoundtrack].tracklist) {
            let a = soundtracks[e.selectedSoundtrack].tracklist[i]
            let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`
            z += b
        }
        z += "</div><br><br>"
        trackSel.innerHTML = z
  
        // select correct song
  
        musicBox.appendChild(trackSel);
        Array.from(document.getElementById("trackSel").children).filter(f => {
            return f.tagName == "LABEL"
        }).map(f => f.children[0])[0].checked = true
  
        // set soundtrack changer
  
        soundtrackSelector = document.getElementById("selectSoundtrack")
        soundtrackSelector.onchange = function() {
            for (i in soundtracks) {
                if (soundtracks[i].name == soundtrackSelector.value) {
                    e.selectedSoundtrack = i
                    break
                }
            }
            document.getElementById("trackSelParent").remove()
            newMusicPlayer()
        }
  
        var matches = document.querySelectorAll('.trackSelector');
  
        for (match in matches) {
            matches[match].onchange = function() {
                audio = $("#campaigntrailmusic")[0];
                audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
                audio.currentTime = 0
            }
        }
  
        musicBox.children[2].loop = false
        musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url
  
        musicBox.children[2].onended = function() {
            console.log("next track")
            let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
            let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)
            let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {
                    return f.tagName == "LABEL"
                }).map(f => f.children[0])
                //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
            buttons[newSel].click()
        }
  
        for (w = 0; w < 7; w++) {
            document.getElementById("trackSelParent").appendChild(document.createElement("br"))
        }
  
        generateTime();
    }
  
    clamp = function(a, max, min, overflow = true) {
        if (overflow) {
            return a > max ? min : a < min ? max : a;
        }
        return a > max ? max : a < min ? min : a;
    }
  
  
    // Track list
  
        var soundtracks = {
        0: {
            name: "Intro",
            tracklist: [
              {
              "name": "Blinding Lights (The Weeknd)",
              "url": "https://ia803404.us.archive.org/24/items/the-weeknd-blinding-lights-official-audio_202103/The%20Weeknd%20-%20Blinding%20Lights%20%28Official%20Audio%29.mp3"
            },
          ]
        },
        1: {
            name: "Hillary",
            tracklist: [
              {
              "name": "I Will Survive (Gloria Gaynor)",
              "url": "https://audio.jukehost.co.uk/49gzBY3VtrCcjM6M9MyVv8JjwkNLErMi"
            },
            {
              "name": "Suddenly I See (KT Tunstall)",
              "url": "https://audio.jukehost.co.uk/amkcdH6dZHIRhFR65ipqY8LB6zBh8pTK"
            },
            {
              "name": "Believer (American Authors)",
              "url": "https://audio.jukehost.co.uk/lWBjOswvwL9EN8Beyepdfdv1DjJlIBae"
            },
            {
              "name": "Roar (Katy Perry)",
              "url": "https://audio.jukehost.co.uk/nekUAOs8zG7CG4wprM06qMgQgVQc0KgI"
            },
            {
              "name": "Wavin' Flag (K'naan)",
              "url": "https://audio.jukehost.co.uk/5dm2uoj3kmqYtU37nDzO6IBrmF1J7Esh"
            },
            {
              "name": "Respect (Aretha Franklin)",
              "url": "https://audio.jukehost.co.uk/Z9rBL7EQxvWCjHFy73O1jYhbBCdnR2qZ"
            }
          ]
        },
        2: {
          name: "Marco",
          tracklist: [
            {
              "name": "Greater (MercyMe)",
              "url": "https://audio.jukehost.co.uk/tKiXM6AMCHxY8mU31K7tN8UCI7Z5ze3l"
            },
            {
              "name": "Freedom (Pitbull)",
              "url": "https://audio.jukehost.co.uk/WcGlmTnASxHG213QUx8i3zr2xiXQdUZO"
            },
            {
              "name": "Born Free (Kid Rock)",
              "url": "https://audio.jukehost.co.uk/iRu5J2FeFAHjeSTgy4IxL6meMm0aAQoa"
            },
            {
              "name": "Starships (Nicki Minaj)",
              "url": "https://audio.jukehost.co.uk/L4iy5kAOa4eHbYlf4YRGqqOKqkypd7cz"
            },
            {
              "name": "American Ride (Toby Keith)",
              "url": "https://audio.jukehost.co.uk/l6Rl8QfNIZverKGfclb7IWJMgdqiyPqV"
            },
            {
              "name": "God Bless the U.S.A (Len Greenwood)",
              "url": "https://audio.jukehost.co.uk/qP37CVhOq9I5kJcUdfwMXcHmccnfxrcb"
            }
        ]
      }
    }
  
    // Set up new music player
  
    newMusicPlayer()
  }
