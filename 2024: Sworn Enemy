campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 21,
        "fields": {
            "year": 2020,
            "summary": "<p>Tragedy has struck the Grand Old Party. Their beloved leader, Donald J. Trump was just slain in Butler, Pennsylvania at the hands of a rogue assassin. For the first time in years, the party is without leadership. What was supposed to be a time of jubilation for Republicans has now turned into a nightmare and a time for solace. The calm before the storm if you will. A time before the inevitable riots, protests, and flames that will engulf the nation once again.<p>However, many in party leadership have been left to sit and ponder. For the first time in decades the Republicans will have to bear the burden of an open convention. The late Donald's delegates have been released, and therefore can elect whomever they so chose.</p>",
            "image_url": "https://i.imgur.com/dJSDOXx.jpg",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://i.imgur.com/VsKm59p.jpg",
            "recommended_reading": "<ul>\n<li><a href=https://www.chicagotribune.com/opinion/editorials/ct-edit-chicago-tribune-biden-endorsement-20200925-lnyxsb5qvrftnjjmj3rnzj33jy-story.html>Our Case For Joe Biden</a></li>\n<li><a href=https://nationalinterest.org/feature/case-trump-166808>The Case For Trump</a></li>\n<li><a href=https://www.npr.org/2020/11/18/935730100/how-biden-won-ramping-up-the-base-and-expanding-margins-in-the-suburbs>How Biden Won: Ramping Up The Base And Expanding Margins In The Suburbs</a></li>\n<li><a href=https://www.prospectmagazine.co.uk/politics/donald-trump-joe-biden-us-election-almost-win-votes-concede>Why Did Trump Almost Win?</a></li>\n<li><a href=https://www.hoover.org/research/no-evidence-voter-fraud-guide-statistical-claims-about-2020-election>No Evidence For Voter Fraud: A Guide To Statistical Claims About The 2020 Election</a></li>\n</ul>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "2024"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 300,
        "fields": {
            "first_name": "Kamala D.",
            "last_name": "Harris",
            "election": 21,
            "party": "Democrat",
            "state": "California",
            "priority": 1,
            "description": "'",
            "color_hex": "#083a90",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/static/images/joe-biden-2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 301,
        "fields": {
            "first_name": "Tucker S.M.",
            "last_name": "Carlson",
            "election": 21,
            "party": "Republican",
            "state": "Maine",
            "priority": 2,
            "description": "<p>Upon arriving in Milwaukee, Tucker Carlson found a convention hall in mourning and panic. Questions were abound as to whom would dawn the mantle of the Republican nominee in such short order. As the hours ticked by however more and more delegates quietly came to the former Fox host and pledged their undying support.<p>At first, Carlson was reluctant. He was not here to seek the White House. But the times were changing. And the more he stewed on the idea has the hours ticked on, the more he realized that perhaps destiny had brought him here today.<p>Regardless of the outcome of the election, he will be the ultimate victory. If he wins, he will be the 47th President of the United States. If the loses, he will still have gained far more influence and far more reach than he ever could have imagined.</p>",
            "color_hex": "#c01a38",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 1,
            "image_url": "https://i.imgur.com/6yAHj7J.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 302,
        "fields": {
            "first_name": "Chase R.",
            "last_name": "Oliver",
            "election": 21,
            "party": "Libertarian",
            "state": "Georgia",
            "priority": 3,
            "description": "'",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 303,
        "fields": {
            "first_name": "Jill E.",
            "last_name": "Stein/Other",
            "election": 21,
            "party": "Green",
            "state": "Massachusetts",
            "priority": 4,
            "description": "'",
            "color_hex": "#3cb868",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 309,
        "fields": {
            "first_name": "James D.",
            "last_name": "Vance",
            "election": 21,
            "party": "Republican",
            "state": "Ohio",
            "priority": 10,
            "description": "'",
            "color_hex": "#c01a38",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "https://i.imgur.com/Rwv34JP.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>The young Senator from Ohio has quite a fast come-up since being elected to the Senate just a couple of years ago. A darling of the populist right, J.D. Vance represents the story all \"MAGA\" followers adore. A story of a man who at one point despised Trump, and his movement. But he saw the light. He the errors of his ways. He saw the goodness in Trump and what he was selling, and he bought in.<p>Vance also enjoys a rather cozy relationship with Carlson himself. After all, they come from the same stock. Both were among the elite, but saw their wickedness. Their contempt for the working man. And they were to have none of it.<p>Together, they could finish the job Trump failed to do.</p>",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 311,
        "fields": {
            "first_name": "Michael T.",
            "last_name": "Matt",
            "election": 21,
            "party": "Libertarian",
            "state": "Oregon",
            "priority": 12,
            "description": "'",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 312,
        "fields": {
            "first_name": "TBA",
            "last_name": "",
            "election": 21,
            "party": "",
            "state": "",
            "priority": 13,
            "description": "'",
            "color_hex": "#3cb868",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 0,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50000,
        "fields": {
            "first_name": "Timothy J.",
            "last_name": "Walz",
            "election": 21,
            "party": "Democratic–Farmer–Labor Party",
            "state": "Minnesota",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#083a90",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50002,
        "fields": {
            "first_name": "Robert F.",
            "last_name": "Kennedy",
            "election": 21,
            "party": "Independent",
            "state": "California",
            "priority": 1,
            "description": ";",
            "color_hex": "#9929bd",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 50003,
        "fields": {
            "first_name": "Nicole A.",
            "last_name": "Shanahan",
            "election": 21,
            "party": "Independent",
            "state": "California",
            "priority": 1,
            "description": "'",
            "color_hex": "#9929bd",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "'",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 205,
        "fields": {
            "candidate": 301,
            "running_mate": 309
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 207,
        "fields": {
            "candidate": 302,
            "running_mate": 311
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 157625,
        "fields": {
            "candidate": 300,
            "running_mate": 50000
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 131017,
        "fields": {
            "candidate": 50002,
            "running_mate": 50003
        }
    }
]

campaignTrail_temp.credits = "u/PalmettoPolitics"

campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 25,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.opponents_default_json = [
    {
        "election": 21,
        "candidates": [
            300,
            301,
            302,
            303,
            312,
            50002
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 21,
        "candidates": [
            300,
            301,
            302,
            303,
            312,
            50002
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 21,
        "year": 2020,
        "is_premium": 0,
        "display_year": "2024"
    }
]

jet_data = {
    "headerColor": "#4f579f",
    "windowColor": "#e1e0de",
    "containerColor": "#e1e0de",
    "innerWindowColor": "#76120f",
    "bannerImageUrl": "https://imgur.com/kpqqmVC.png",
    "backgroundImageUrl": "https://imgur.com/GF8HAJD.jpg",
    "endingTextColor": "#000000",
    "customQuote": "",
    "gameTitle": "AGENT OF CHANGE"
}

//#startcode


corrr = '\n              <h2>SWORN ENEMY</h2>\n            ';


nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#4f579f";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#d3d7e0";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#d3d7e0";

$("#game_window")[0].style.borderColor = "#ab192c"

$(".container")[0].style.border = ".2em solid #ab192c"

document.getElementById("header").src = "https://files.catbox.moe/gpdvr6.jpg";

document.body.background = "https://i.imgur.com/GF8HAJD.jpg";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#fefefe!important;}</style>";

//#endcode

let style = document.createElement('style');
style.type = 'text/css';
style.id = 'dynamic-style';

style.innerHTML = `
  .campaign_trail_start_emphasis {
    background-color: #ab192c;
  }
  a:-webkit-any-link {
    color: #4f579f;
  }
`;

document.head.appendChild(style);

next0 = function() {document.getElementById("screen0").style.display = "none";document.getElementById("screen1").style.display = "initial";}
back0 = function() {document.getElementById("screen0").style.display = "initial";document.getElementById("screen1").style.display = "none";}


RecReading=true

campaignTrail_temp.modBoxTheme = {
  "header_color": "#4f579f",
  "header_text_color": "#ffffff",
  "description_text_color": "#000000",
  "description_background_color": "#e1e0de",
  "main_color": "#e1e0de",
  "secondary_color": "#ab192c",
 "ui_text_color": "#ffffff"
}

RecReading=true

  campaignTrail_temp.credits = "<button onclick='credits()'>u/PalmettoPolitics</button>";
  
  credits = function() {
    credits = ["Credits", "u/PalmettoPolitics - Writing & Coding", "C0SM0 - Coding and various other stuff", "DecStarG - Various different codes"]
    text = "CREDITS:\n\n"
    for (i in credits) {
        text += credits[i] + "\n"
    }
    alert(text)
  }

$("#music_player")[0].children[0].style.display="none"

$("#music_player")[0].children[1].style.display="none"


document.getElementById("modLoadReveal").style.display="none"

document.getElementById("modloaddiv").style.display="none"


musicBox = document.getElementById("music_player")

musicBox.style.display=""


var trackSel;

e = campaignTrail_temp

e.selectedSoundtrack = 0


toTime = (seconds) => {

  var date = new Date(null);

  date.setSeconds(seconds);

  return date.toISOString().substr(11, 8);

}


generateTime = () => {

    // Get the audio element

    var audio = document.getElementById("campaigntrailmusic");


    timeTracker = document.createElement("div");

    timeTracker.style = `

      text-align:left;

      border-style:solid;

      border-width:3px;

      height:150px;

      width:200px;

      background-color:#d3d7e0;

      float:right;

      padding: 10px;

    `

    $("#trackSelParent")[0].prepend(timeTracker);

    $("#trackSelParent")[0].prepend(document.createElement("br"));


    // Create a new element to display the current position of the audio

    var positionDisplay = document.createElement("gg");

    positionDisplay.id = "position-display";


    // Create a new slider element to change the time

    var timeSlider = document.createElement("input");

    timeSlider.type = "range";

    timeSlider.min = 0;

    timeSlider.max = 1;

    timeSlider.step = 0.001;

    timeSlider.value = 0;

    timeSlider.style.width = "200px";

    timeSlider.id = "time-slider";


    var pausePlay = document.createElement("button");

    pausePlay.id = "position-display";

    pausePlay.innerHTML = "<b>Pause</b>"

    pausePlay.style.width = "100%";



    pausePlay.addEventListener("click", event => {

      event.preventDefault();

      updatePositionDisplay();

      let audio = document.getElementById("campaigntrailmusic");

      if (audio.paused) {

        audio.play();

        event.target.innerHTML = "<b>Pause</b>";

        return;

      }

      audio.pause();

      event.target.innerHTML = "<b>Play</b>";

      return;

    })


    var volumeLabel = document.createElement("gg");

    volumeLabel.id = "volume-label";

    volumeLabel.innerHTML = "<br><b>Volume: </b>"


    var volumeSlider = document.createElement("input");

    volumeSlider.type = "range";

    volumeSlider.min = 0;

    volumeSlider.max = 1;

    volumeSlider.step = 0.001;

    volumeSlider.value = 0;

    volumeSlider.style.width = "200px";

    volumeSlider.id = "volume-slider";


    volumeSlider.value = audio.volume;


    timeTracker.appendChild(pausePlay);

    timeTracker.appendChild(document.createElement("br"));

    timeTracker.appendChild(document.createElement("br"));

    timeTracker.appendChild(positionDisplay);

    timeTracker.appendChild(timeSlider);

    timeTracker.appendChild(volumeLabel);

    timeTracker.appendChild(volumeSlider);


    updatePositionDisplay();


    //for (let i = 0; i < 10; i++)

    //timeTracker.append(document.createElement("br"));



    // Function to update the position display

    function updatePositionDisplay() {

      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";

      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;

    }


    // Function to change the time of the audio

    function changeTime() {

      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";

      audio.currentTime = timeSlider.value * audio.duration;

    }


    updateVolume = event => {

      audio.volume = event.target.value;

    }

   

    // Update the position display and slider every second

    setInterval(updatePositionDisplay, 1000);


    // Listen for changes to the time slider and change the time of the audio

    timeSlider.addEventListener("input", changeTime);

    volumeSlider.addEventListener("input", updateVolume)

}


function newMusicPlayer() {

  trackSel = document.createElement("div");

  trackSel.id = "trackSelParent"

  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#d3d7e0;float:right;">`

  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"

  for (i in soundtracks) {

    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {

      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`

    }

  }

  z += `</select></b><br><br>`

  // <label><input type="radio" name="option" value="option1">Option 1</label><br>

  for (i in soundtracks[e.selectedSoundtrack].tracklist) {

    let a = soundtracks[e.selectedSoundtrack].tracklist[i]

    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`

    z += b

  }

  z += "</div><br><br>"

  trackSel.innerHTML = z


  // select correct song


  musicBox.appendChild(trackSel);

  Array.from(document.getElementById("trackSel").children).filter(f=>{

    return f.tagName == "LABEL"

  }).map(f=>f.children[0])[0].checked = true


  // set soundtrack changer


  soundtrackSelector = document.getElementById("selectSoundtrack")

  soundtrackSelector.onchange = function() {

    for (i in soundtracks) {

      if (soundtracks[i].name == soundtrackSelector.value) {

        e.selectedSoundtrack = i

        break

      }

    }

    document.getElementById("trackSelParent").remove()

    newMusicPlayer()

  }


  var matches = document.querySelectorAll('.trackSelector');


  for (match in matches) {

    matches[match].onchange = function() {

      musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url

      musicBox.children[2].currentTime = 0

    }

  }


  musicBox.children[2].loop = false

  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url


  musicBox.children[2].onended = function() {

    console.log("next track")

    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);

    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)

    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{

      return f.tagName == "LABEL"

    }).map(f=>f.children[0])

    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)

    buttons[newSel].click()

  }


  for (w = 0; w < 7; w++) {

    document.getElementById("trackSelParent").appendChild(document.createElement("br"))

  }

 

  generateTime();

}


clamp = function(a, max, min, overflow=true) {

  if (overflow) {

    return a > max ? min : a < min ? max : a;

  }

  return a > max ? max : a < min ? min : a;

}


// Track list


var soundtracks = {

  0: {

    name: "Opening Song",

    tracklist: [

      {

        name: "FOX News Democracy 2020 Theme",

        url: "https://files.catbox.moe/otuejy.mp3",
      

      },

    ],

  },

  1: {

    name: "Tunes For Tucker",

    tracklist: [

      {

        name: "Liars, Cheats, & Crooks (Five Times August)",

        url: "https://files.catbox.moe/b14mof.mp3",

      },

      {

        name: "Freedom In This Country (Greg Rider)",

        url: "https://files.catbox.moe/37vf55.mp3",

      },

      {

        name: "Answer To No One (Colt Ford)",

        url: "https://files.catbox.moe/qej0r2.mp3",

      },

      {

        name: "Rich Men North Of Richmond (Oliver Anthony)",

        url: "https://files.catbox.moe/8qvhi5.mp3",

      },

      {

        name: "Go Woke Go Broke (Jokes On Wokes)",

        url: "https://files.catbox.moe/ls4nda.mp3",

      },

      {

        name: "If You Have A Right To Burn My Flag (Creed Fisher)",

        url: "https://files.catbox.moe/znsjvn.mp3",

      },

    ],

  },

  2: {

    name: "MAGA Is Forever",

    tracklist: [

      {

        name: "America First (Natasha Owens)",

        url: "https://files.catbox.moe/i307x4.mp3",

      },

      {

        name: "We The People (Kid Rock)",

        url: "https://audio.jukehost.co.uk/t9udA498yUFg2zPDDZJZGqsO08ztrcdr",

      },

      {

        name: "In America (The Charlie Daniels Band)",

        url: "https://files.catbox.moe/x14zvj.mp3",

      },

      {

        name: "Hold On, I'm Comin' (Sam & Dave)",

        url: "https://files.catbox.moe/ps1cgs.mp3",

      },

      {

        name: "Real American (Rick Derringer)",

        url: "https://files.catbox.moe/zsk569.mp3",

      },

      {

        name: "Oh, I'm A Good Ol' Worker (American Pioneer Singers)",

        url: "https://files.catbox.moe/bqipa2.mp3",

      },

    ],

  },

}



newMusicPlayer()
