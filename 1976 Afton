e = campaignTrail_temp;
            nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#865a87";

            nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#e6c9e8";

            document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

            $("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

            $(".container")[0].style.backgroundColor = "#52245c";

            document.getElementById("header").src = "https://i.imgur.com/WNKYrU1.png";

            document.body.background = "https://i.imgur.com/DbgYwyF.png";

            $("#game_window")[0].style.backgroundImage = "url(https://i.imgur.com/alKMKNh.png)"

            quotes = ["I always come back!", "why he ourple tho", "Thank you Scott Cawthon.", "Exotic Butters", "Was that the Bite of 87!?!", "Connection Terminated.", "Dont keep the devil waiting, old friend.", "Together, we are FNAF."]
            customquote = quotes[Math.floor((Math.random() * quotes.length))]
            
            corrr=`\n<h2>FIVE CAMPAIGN TRAILS AT FREDDY'S</h2><font id='wittyquote' size='4' color='white'><em>`+customquote+`</em></font>`

            HistHexcolour=["#7a105a","#1b3c7d","#275c20","#c4a637"]; HistName=[" William Afton"," Jimmy Carter"," Eugene McCarthy"," Roger MacBride/Others"]; HistEV=[275,263,0,0]; HistPV=["39,402,111","40,207,249","1,509,500","998,658"]; HistPVP=["48.0%","49.0%","1.8%","1.2%"];

            RecReading = true
            bannerArr=0
        
            bannerlist=["https://i.imgur.com/NSoPSpT.png", "https://i.imgur.com/QjxKBwF.png", "https://i.imgur.com/L7gaTOb.png", "https://i.imgur.com/Oeuabss.png", "https://i.imgur.com/mlFdreH.png"]
            document.getElementById("header").src = bannerlist[Math.floor((Math.random() * bannerlist.length))]
            var changeBanner = () =>
            {
            bannerArr+=1
            document.getElementById("header").src=bannerlist[bannerArr % bannerlist.length]
            }
            document.getElementById("header").src=bannerlist[0]
            footer = $(".footer")[0]
            var button = document.createElement("button") // <button onclick="changeBanner()" style="font-weight: bold; height:19.49px; position: static; right: 770px; top: 0px;">Change banner</button>
            button.style = `font-weight: bold; height:19.49px; position: static; right: 770px; top: 0px;`
            button.innerHTML = "Change banner"
            footer.insertBefore(button, footer.firstChild);
            button.onclick = changeBanner;
          
            e.election_json = [{"model":"campaign_trail.election","pk":10,"fields":{"year":1976,"summary":"<div style='overflow-y:scroll;height:200px;'><p>The year is 1976. The Watergate Scandal remains imprinted in the minds of many good Americans. Causing trust in the federal government to be at an all time low. Seeing the writing on the wall, the two main parties have nominated dark house outsiders.</p><p><ul><li>After narrowly defeating incumbent Ford for the nomination, Utah Governor William Afton must balance out his rather incendiary views and ideology if he wants to keep the republicans in power for four more years.</li><li>Georgia Governor Jimmy Carter is the soft spoken, truthful Governor of Georgia, who campaigns on honesty in the government and a break from the traditional Washington insider in the executive office.</ul></li></p><p>The main issues of the day are the ongoing economic crises, including the oil crisis, recession, and Watergate. Jimmy Carter starts off with a monumental lead in the polls due to Republican unpopularity, so Afton will need to put in a ton of work to catch up with him.</div>","image_url":"https://i.imgur.com/EqM0Ys8.png","winning_electoral_vote_number":270,"advisor_url":"https://i.imgur.com/Q8QbAUo.png","recommended_reading":"Thank you for playing, message me on discord (.whatnamedidiuseagain) if you spot a bug or error. Further Reading will be coming in the Schweiker update.","has_visits":1,"no_electoral_majority_image":"../static/images/2012-no-majority.jpg"}}];e.temp_election_list = [{"id":10,"year":1976,"is_premium":0,"display_year":"1976AFTON"}];e.credits = "u/WhatNameDidIUseAgain (WNDIUA).<br>Useful playtesting from .manamana, .totalen and all the others.<br>Change Banner code from 1984b, CYOA ideas from Astronomical.<br>Thank you Scott Cawthon";e.global_parameter_json = [{"model":"campaign_trail.global_parameter","pk":1,"fields":{"vote_variable":1.125,"max_swing":0.12,"start_point":0.94,"candidate_issue_weight":10,"running_mate_issue_weight":3,"issue_stance_1_max":-0.71,"issue_stance_2_max":-0.3,"issue_stance_3_max":-0.125,"issue_stance_4_max":0.125,"issue_stance_5_max":0.3,"issue_stance_6_max":0.71,"global_variance":0.01,"state_variance":0.005,"question_count":27,"default_map_color_hex":"#C9C9C9","no_state_map_color_hex":"#999999"}}];e.candidate_json = [{"model":"campaign_trail.candidate","pk":92,"fields":{"first_name":"William","last_name":"Afton","election":10,"party":"Republican","state":"Utah","priority":1,"description":"<div style='overflow-y:scroll;height:200px;'><i>\"No matter what they all say, I always come back!\"</i><br><p>William Joseph Afton, born in 1927 is currently the Governor of Utah, Co-CEO of Fazbear Entertainment with Henry Emily and CEO of Afton Robotics. Afton made himself well known to the American People after unexpectedly defeating Democratic challenger Cal Rampton in the Utah Gubernatorial election in 1972, campaigning on a break from the current administration, and a focus on new funding for technology and infrastructure.<br><br>Afton is well known within his party as a bit of a maverick, he was a well known critic of the Nixon administration, publicly calling for his resignation shortly after the Sunday Night Massacare. Afton holds socially conservative yet fiscally and economically moderate views, which could play well with moderates. Although, he isn't without baggage however, as his incendiary comments in the past about other races has caused controversy in the past. His business practices could come under scrutiny aswell if Afton isn't careful in separating his politics from his business.<br><br>Afton begins the campaign with a hefty popularity deficit against his Democratic Challenger, but its expected to tighten up after a few months pass. Can Afton do it? or will he be swept by the wayside...</div>","color_hex":"#7a105a","secondary_color_hex":null,"is_active":1,"image_url":"https://i.imgur.com/iKKALCI.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":93,"fields":{"first_name":"Eugene","last_name":"McCarthy","election":10,"party":"Progressive","state":"Minnesota","priority":1,"description":"description","color_hex":"#125c1f","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/UBhh7px.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":94,"fields":{"first_name":"Roger","last_name":"MacBride/Other","election":10,"party":"Libertarian","state":"New York","priority":1,"description":"description","color_hex":"#c4a518","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/UBhh7px.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":91,"fields":{"first_name":"Jimmy","last_name":"Carter","election":10,"party":"Democratic","state":"Georgia","priority":1,"description":"<div style='overflow-y:scroll;height:200px;'><i>“To be true to ourselves, we must be true to others.”</i><br><b>May or may not ever be playable</b><br><p>James Earl Carter Jr. born in 1924, is currently the governor of Georgia and is very popular in his home state. He is a Washington Outsider, and ran an outsider campaign in the primaries, ultimately prevailing against his counterparts. Carter is well known for being an outspoken critic of Segregation within the south and has broke with his party many times on it. This could contrast nicely against Afton due to his previous comments on African-Americans.<br><br>Carter is known as moderate across the board within his party, constantly towing the party line especially on social and economic issues, being a southern baptist after all. He also has very persistent political ambition which could come up on the campaign trail.<br><br>Carter leads very heavily in the polls and expected to win over his republican challenger, but he cant grow complacent. As we have seen what happens multiple times when that happens...","color_hex":"#1b3c7d","secondary_color_hex":null,"is_active":1,"image_url":"https://i.imgur.com/BGMrWlT.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":null,"candidate_score":1,"running_mate":false,"scrollable":false}},{"model":"campaign_trail.candidate","pk":1003,"fields":{"first_name":"John","last_name":"Connally","election":10,"party":"Republican","state":"Texas","priority":1,"description":"<i>\"When you're out of office, you can be a statesman.\"</i><br><p>John Bowden Connally Jr. is the former secretary of the Treasury and former Governor of Texas, famously injured in the Kennedy Assassination in 1963. He recently sparked controversy for switching parties in 1973 from Democrat to Republican. He came out in support of you during the primaries and the two of you have very similar views socially and economically.<br><br>Connally would certainly help you in Texas and the south as a whole, but he is pretty vilified by Democrats and wouldn't help you with liberals at all, he also served under Nixon, and is a big supporter of his.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/tVJPCL8.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"<i>\"When you're out of office, you can be a statesman.\"</i><br><p>John Bowden Connally Jr. is the former secretary of the Treasury and former Governor of Texas, famously injured in the Kennedy Assassination in 1963. He recently sparked controversy for switching parties in 1973 from Democrat to Republican. He came out in support of you during the primaries and the two of you have very similar views socially and economically.<br><br>Connally would certainly help you in Texas and the south as a whole, but he is pretty vilified by Democrats and wouldn't help you with liberals at all, he also served under Nixon, and is a big supporter of his.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1004,"fields":{"first_name":"Bob","last_name":"Dole","election":10,"party":"Republican","state":"Kansas","priority":1,"description":"<i>\"Life is very important to Americans.\"</i><br><p>Robert Joseph Dole is currently the senator from Kansas and before that was part of the House of Representatives. Dole was Ford's running mate during the Primaries, but ended up endorsing you after you won against Ford. He is a standard Republican with moderate to conservative views across the board.<br><br>Dole would undoubtably help you in the farm and mountain states and would be seen as an olive branch to the more moderate supporters of the Republican party. Although he is very prone to gaffes and can go a bit overboard with attacks.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/oQqx2Dc.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"<i>\"Life is very important to Americans.\"</i><br><p>Robert Joseph Dole is currently the senator from Kansas and before that was part of the House of Representatives. Dole was Ford's running mate during the Primaries, but ended up endorsing you after you won against Ford. He is a standard Republican with moderate to conservative views across the board.<br><br>Dole would undoubtably help you in the farm and mountain states and would be seen as an olive branch to the more moderate supporters of the Republican party. Although he is very prone to gaffes and can go a bit overboard with attacks.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1005,"fields":{"first_name":"Walter","last_name":"Mondale","election":10,"party":"Democratic","state":"Minnesota","priority":1,"description":"<i>\"If you are sure you understand everything that is going on, you are hopelessly confused.</i><br><p>Walter Frederick \"Fritz\" Mondale is currently the senator of Minnesota. He is seen by most people as a standard democratic senator, with liberal credentials and even being the protege of one of Minnesota's greatest, that being Hubert Humphrey.<br><br>Mondale greatest regional strength would lie in the northern midwest and with the labor unions. But he is no conciliatory figure to the conservatives of the party, who are already slipping away from the party as a whole.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/O0DQiDI.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"<i>\"If you are sure you understand everything that is going on, you are hopelessly confused.</i><br><p>Walter Frederick \"Fritz\" Mondale is currently the senator of Minnesota. He is seen by most people as a standard democratic senator, with liberal credentials and even being the protege of one of Minnesota's greatest, that being Hubert Humphrey.<br><br>Mondale greatest regional strength would lie in the northern midwest and with the labor unions. But he is no conciliatory figure to the conservatives of the party, who are already slipping away from the party as a whole.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"1"}},{"model":"campaign_trail.candidate","pk":1006,"fields":{"first_name":"Jerry","last_name":"Brown","election":10,"party":"Democratic","state":"California","priority":1,"description":"<i>\"We have to be realistic about what the state can afford, and put an end to abuses of the system that cost millions.\"</i><br><p>Edmund Gerald Brown Jr. is currently the governor of California, and son of Pat Brown. Brown is a unique figure in the Democratic Party, a social liberal yet a fiscal conservative. He won the gubernatorial election for last year and was a fellow contender in the democratic primaries, but his campaign ultimately faltered against yours.<br><br>His biggest help would be in keeping the west coast in check, due to his popularity over there, and his outsider credentials would fully cement the ticket as one free from the stench of Washington influence, which could be both a blessing and a curse.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/DDM1fNE.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"<i>\"We have to be realistic about what the state can afford, and put an end to abuses of the system that cost millions.\"</i><br><p>Edmund Gerald Brown Jr. is currently the governor of California, and son of Pat Brown. Brown is a unique figure in the Democratic Party, a social liberal yet a fiscal conservative. He won the gubernatorial election for last year and was a fellow contender in the democratic primaries, but his campaign ultimately faltered against yours.<br><br>His biggest help would be in keeping the west coast in check, due to his popularity over there, and his outsider credentials would fully cement the ticket as one from of Washington influence, which is both a blessing and a curse.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"1"}},{"model":"campaign_trail.candidate","pk":1007,"fields":{"first_name":"Richard","last_name":"Schweiker","election":10,"party":"Republican","state":"Pennsylvania","priority":1,"description":"<i>\"Caution, not exuberance, should be our fiscal motto.\"</i><p><BR><br><B>Not playable on first release</b><BR>Richard Schultz Schweiker is the incumbent senator of Pennsylvania, and early in the primaries, was announced to be Reagan's vice presidential pick, although its widely believed that this statement caused the early collapse of his campaign in the general. Schweiker boasts a more moderate voting record and would come as a suprise to your conservative colleagues.<br><br>Schweiker's moderate credentials could be helpful if you choose to go that path, and his home region of the Mid-Atlantic states and especially Pennsylvania could come under contention if you manage him correctly, but if you aren't able to do that, his selection is practically nothing but a dud.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/7PUZBgh.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"<i>\"Unable to locate any quotes\"</i><BR><B>Not playable on first release</b><BR><BR><p>Richard Schultz Schweiker is the incumbent senator of Pennsylvania, and early in the primaries, was announced to be Reagan's vice presidential pick, although its widely believed that this statement caused the early collapse of his campaign in the general. Schweiker boasts a more moderate voting record and would come as a suprise to your conservative colleagues.<br><br>Schweiker's moderate credentials could be helpful if you choose to go that path, and his home region of the Mid-Atlantic states and especially Pennsylvania could come under contention if you manage him correctly, but if you aren't able to do that, his selection is practically nothing but a dud.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"0"}},{"model":"campaign_trail.candidate","pk":1008,"fields":{"first_name":"Frank","last_name":"Church","election":10,"party":"Democratic","state":"Idaho","priority":1,"description":"<i>\"This war has already stretched the generation gap so wide that it threatens to pull the country apart.\"</i><br><p>Frank Forrester Church III is currently the senator of Idaho. Picking Church would signal a more left-leaning pick for your potential administration. Church himself is a very liberal senator from a state this by no means liberal. Church was inspired by Idaho great, William Borah.<br><br>While Church isnt popular enough to help you win mountain states like Wyoming or the Dakotas, he could bring the margins down pretty close, although beacuse of Church's liberalism he is not popular with party conservatives.","color_hex":"#0000ff","secondary_color_hex":null,"is_active":0,"image_url":"https://i.imgur.com/kskocZm.png","electoral_victory_message":"<h3>REAL PATRIOT DUMMY EXAMPLE SWEEPS</h3>","electoral_loss_message":"<h3>Fake News?</h3>","no_electoral_majority_message":"<h3>DUMMY EXAMPLE RETURNS TO HELL</h3>","description_as_running_mate":"<i>\"This war has already stretched the generation gap so wide that it threatens to pull the country apart.\"</i><br><p>Frank Forrester Church III is currently the senator of Idaho. Picking Church would signal a more left-leaning pick for your potential administration. Church himself is a very liberal senator from a state this by no means liberal. Church was inspired by Idaho great, William Borah.<br><br>While Church isnt popular enough to help you win mountain states like Wyoming or the Dakotas, he could bring the margins down pretty close, although beacuse of Church's liberalism he is not popular with party conservatives.","candidate_score":1,"running_mate":true,"scrollable":false,"partner":"1"}}];e.running_mate_json = [{"model":"campaign_trail.running_mate","pk":2001,"fields":{"candidate":92,"running_mate":1003}},{"model":"campaign_trail.running_mate","pk":2002,"fields":{"candidate":92,"running_mate":1004}},{"model":"campaign_trail.running_mate","pk":2003,"fields":{"candidate":91,"running_mate":1005}},{"model":"campaign_trail.running_mate","pk":2004,"fields":{"candidate":91,"running_mate":1006}},{"model":"campaign_trail.running_mate","pk":2005,"fields":{"candidate":92,"running_mate":1007}},{"model":"campaign_trail.running_mate","pk":2006,"fields":{"candidate":91,"running_mate":1008}}];  
  // MUSIC MODE

 

  musicMode = () => {

    // Initialise custom music

 

    $("#music_player")[0].children[0].style.display = "none"

    $("#music_player")[0].children[1].style.display = "none"

 

    document.getElementById("modLoadReveal").style.display = "none"

    document.getElementById("modloaddiv").style.display = "none"

 

    musicBox = document.getElementById("music_player")

    musicBox.style.display = ""

 

    var trackSel;

    e = campaignTrail_temp

    e.selectedSoundtrack = 0

 

    toTime = (seconds) => {

        var date = new Date(null);

        date.setSeconds(seconds);

        return date.toISOString().substr(11, 8);

    }

 

    generateTime = () => {

        // Get the audio element

        var audio = document.getElementById("campaigntrailmusic");

 

        timeTracker = document.createElement("div");

        timeTracker.style = `

  text-align:left;

  border-style:solid;

  border-width:3px;

  height:150px;

  width:200px;

  background-color:#999999;

  float:right;

  padding: 10px;

  `

        $("#trackSelParent")[0].prepend(timeTracker);

        $("#trackSelParent")[0].prepend(document.createElement("br"));

 

        // Create a new element to display the current position of the audio

        var positionDisplay = document.createElement("gg");

        positionDisplay.id = "position-display";

 

        // Create a new slider element to change the time

        var timeSlider = document.createElement("input");

        timeSlider.type = "range";

        timeSlider.min = 0;

        timeSlider.max = 1;

        timeSlider.step = 0.001;

        timeSlider.value = 0;

        timeSlider.style.width = "200px";

        timeSlider.id = "time-slider";

 

        var pausePlay = document.createElement("button");

        pausePlay.id = "position-display";

        pausePlay.innerHTML = "<b>Pause</b>"

        pausePlay.style.width = "100%";

 

 

        pausePlay.addEventListener("click", event => {

            event.preventDefault();

            updatePositionDisplay();

            let audio = document.getElementById("campaigntrailmusic");

            if (audio.paused) {

                audio.play();

                event.target.innerHTML = "<b>Pause</b>";

                return;

            }

            audio.pause();

            event.target.innerHTML = "<b>Play</b>";

            return;

        })

 

        var volumeLabel = document.createElement("gg");

        volumeLabel.id = "volume-label";

        volumeLabel.innerHTML = "<br><b>Volume: </b>"

 

        var volumeSlider = document.createElement("input");

        volumeSlider.type = "range";

        volumeSlider.min = 0;

        volumeSlider.max = 1;

        volumeSlider.step = 0.001;

        volumeSlider.value = 0;

        volumeSlider.style.width = "200px";

        volumeSlider.id = "volume-slider";

 

        volumeSlider.value = audio.volume;

 

        timeTracker.appendChild(pausePlay);

        timeTracker.appendChild(document.createElement("br"));

        timeTracker.appendChild(document.createElement("br"));

        timeTracker.appendChild(positionDisplay);

        timeTracker.appendChild(timeSlider);

        timeTracker.appendChild(volumeLabel);

        timeTracker.appendChild(volumeSlider);

 

        updatePositionDisplay();

 

        //for (let i = 0; i < 10; i++)

        //timeTracker.append(document.createElement("br"));

 

 

        // Function to update the position display

        function updatePositionDisplay() {

            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";

            timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;

        }

 

        // Function to change the time of the audio

        function changeTime() {

            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";

            audio.currentTime = timeSlider.value * audio.duration;

        }

 

        updateVolume = event => {

            audio.volume = event.target.value;

        }

 

        // Update the position display and slider every second

        setInterval(updatePositionDisplay, 1000);

 

        // Listen for changes to the time slider and change the time of the audio

        timeSlider.addEventListener("input", changeTime);

        volumeSlider.addEventListener("input", updateVolume)

    }

 

    function newMusicPlayer() {

        trackSel = document.createElement("div");

        trackSel.id = "trackSelParent"

        let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`

        z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"

        for (i in soundtracks) {

            if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {

                z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`

            }

        }

        z += `</select></b><br><br>`

            // <label><input type="radio" name="option" value="option1">Option 1</label><br>

        for (i in soundtracks[e.selectedSoundtrack].tracklist) {

            let a = soundtracks[e.selectedSoundtrack].tracklist[i]

            let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`

            z += b

        }

        z += "</div><br><br>"

        trackSel.innerHTML = z

 

        // select correct song

 

        musicBox.appendChild(trackSel);

        Array.from(document.getElementById("trackSel").children).filter(f => {

            return f.tagName == "LABEL"

        }).map(f => f.children[0])[0].checked = true

 

        // set soundtrack changer

 

        soundtrackSelector = document.getElementById("selectSoundtrack")

        soundtrackSelector.onchange = function() {

            for (i in soundtracks) {

                if (soundtracks[i].name == soundtrackSelector.value) {

                    e.selectedSoundtrack = i

                    break

                }

            }

            document.getElementById("trackSelParent").remove()

            newMusicPlayer()

        }

 

        var matches = document.querySelectorAll('.trackSelector');

 

        for (match in matches) {

            matches[match].onchange = function() {

                audio = $("#campaigntrailmusic")[0];

                audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url

                audio.currentTime = 0

            }

        }

 

        musicBox.children[2].loop = false

        musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

 

        musicBox.children[2].onended = function() {

            console.log("next track")

            let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);

            let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)

            let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {

                    return f.tagName == "LABEL"

                }).map(f => f.children[0])

                //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)

            buttons[newSel].click()

        }

 

        for (w = 0; w < 7; w++) {

            document.getElementById("trackSelParent").appendChild(document.createElement("br"))

        }

 

        generateTime();

    }

 

    clamp = function(a, max, min, overflow = true) {

        if (overflow) {

            return a > max ? min : a < min ? max : a;

        }

        return a > max ? max : a < min ? min : a;

    }

 

 

    // Track list

 

    var soundtracks = {

        0: {

            name: "1976 Afton Soundtrack",

            tracklist: [

              {

                "name": "It's Been So Long (The Living Tombstone)",

                "url": "https://audio.jukehost.co.uk/F2kQ0Sp7gAUpaXxubDXbXPqVZdg7tcZc"

              },

              {

                "name": "Five Nights At Freddy's (The Living Tombstone)",

                "url": "https://audio.jukehost.co.uk/qN6GRNFwVmrtsez2iDSpEFMoJ63AVtZR"

              },

              {

                "name": "Die In A Fire (The Living Tombstone)",

                "url": "https://audio.jukehost.co.uk/ZQxCOt0qAWFfiQ5oQP9HR2I42NFzybmc"

              },

              {

                "name": "Break My Mind (DAGames)",

                "url": "https://audio.jukehost.co.uk/2kJbL23iD8G2XSLd1tW2PNrmBvNc5raL"

              },

              {

                "name": "Five More Nights (JT Music)",

                "url": "https://audio.jukehost.co.uk/a3QfM7cSImonNDagOAEzwM4JoIpZLCO6"

              },

              {

                "name": "It's Me (TryHardNinja)",

                "url": "https://audio.jukehost.co.uk/hJYGOYmlHHP1OIDLiFMFp9JMrf0Nr77E"

              },

              {

                "name": "Total Insecurity (Rockit Music)",

                "url": "https://audio.jukehost.co.uk/9Gwj8RTbV1YSY9eEwPfVTduuJtz4VspX"
              }


          ]



      }

    }


 

    // Set up new music player

 

    newMusicPlayer()

 


}


  $("#game_start").click((event) => {

    event.preventDefault();

    $("#election_id_button").click((event) => {

        musicMode()


        setInterval(changeFontColour, 200)

 

    })

  })


